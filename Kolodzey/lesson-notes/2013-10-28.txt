Что такое allocator? Как им пользоваться, зачем его передают в set?

В реализации decrease_key как мы обращаемся к элементу? Random-access-iterator?

Кстати да, хочу теорию по итераторам (если они всё-таки нужны для decrease_key)

Как по мне, нафиг decrease_key, лучше бы реализовать delete. Но проблемы с тем, что куча не предоставляет random access оно не решает.


Если вы компилируете, используйте -O2


Залазить из теста в private-зону.
Используй friend.

class LeftHeap
{
private:
    friend HeapTest;
};

 Теперь из класса HeapTest можно получать приватные поля класса LeftHeap.

Для большего пафоса можно делать шаблон:

test_access<LeftHeap> — и дружим со специализацией класса test_access от нас.

Теперь объявим шаблон test_access и будем его специализировать. Не надо думать над именами переменных :)